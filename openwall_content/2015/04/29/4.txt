  oss-security - MySQL SSL/TLS downgrade            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [thread-next>] [day] [month] [year] [list]  Date: Wed, 29 Apr From: Andrea Barisani <lcars@...rt.org> To: oss-security@...ts.openwall.com, ocert-announce@...ts.ocert.org,         bugtraq@...urityfocus.com Subject: MySQL SSL/TLS downgrade   MySQL SSL/TLS downgrade  Description:  The MySQL project is an open source relational database management system.  A vulnerability has been reported concerning the impossibility for MySQL users (with any major stable version) to enforce an effective SSL/TLS connection that would be immune from man-in-the-middle (MITM) attacks performing a malicious downgrade.  While the issue has been addressed in MySQL preview release in December it is perceived that the majority of MySQL users are not aware of this limitation and that the issue should be treated as a vulnerability.  The vulnerability lies within the behaviour of the '--ssl' client option, which on affected versions it is being treated as "advisory". Therefore while the option would attempt an SSL/TLS connection to be initiated towards a server, it would not actually require it. This allows a MITM attack to transparently "strip" the SSL/TLS protection.  The issue affects the ssl client option whether used directly or triggered automatically by the use of other ssl options ('--ssl-xxx') that imply '--ssl'.  Such behavior is clearly indicated in MySQL reference manual as follows:    For the server, this option specifies that the server permits but does not require   SSL connections.    For a client program, this option permits but does not require the client to   connect to the server using SSL. Therefore, this option is not sufficient in   itself to cause an SSL connection to be used. For example, if you specify this   option for a client program but the server has not been configured to permit   SSL connections, an unencrypted connection is used.  In a similar manner to the new '--ssl' option behaviour, users of the MySQL client library (Connector/C, libmysqlclient), as of MySQL can take advantage of the MYSQL_OPT_SSL_ENFORCE option to enforce SSL/TLS connections.  The vulnerability also affects the MySQL forks MariaDB and Percona Server, as the relevant patch has not been pulled, at the time of this advisory, in their respective stable versions.  Affected version:  MySQL <=  MySQl Connector/C (libmysqlclient) <  Percona Server, all versions  MariaDB, all versions  Fixed version:  MySQL >=  MySQl Connector/C (libmysqlclient) >=  Percona Server, N/A  MariaDB, N/A  Credit: vulnerability report from Adam Goodman, Principal Security Architect at Duo Security.  CVE: (MariaDB, Percona)  Timeline:  vulnerability report received contacted Oracle Security oCERT sets embargo date to April 29th reporter confirms MariaDB is affected contacted MariaDB and affected vendors, assigned CVEs contacted Percona advisory release  References:  Permalink:  --  Andrea Barisani |                Founder & Project Coordinator           oCERT | OSS Computer Security Incident Response Team  <lcars@...rt.org>                         http://www.ocert.org  02CD CE7F AC3F DA47 9B9E         "Pluralitas non est ponenda sine necessitate"  Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      