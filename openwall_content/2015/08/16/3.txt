  oss-security - CVE request: UnrealIRCd crash issue if SASL is enabled            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [day] [month] [year] [list]  Date: Sun, 16 Aug From: Reed Loden <reed@...dloden.com> To: oss-security@...ts.openwall.com,  	Assign a CVE Identifier <cve-assign@...re.org> Subject: CVE request: UnrealIRCd crash issue if SASL is enabled  Doesn't look like a CVE was assigned for this. Requesting one.  ~reed  ---------- Forwarded message ---------- From: *Bram Matthys* <syzop@...nscan.org> Date: Sunday, August 16, Subject: Security: UnrealIRCd crash issue if SASL is enabled To: UnrealIRCd Release Announcements <unreal-notify@...ts.sourceforge.net>, Unreal-Users <unreal-users@...ts.sourceforge.net>   UNREALIRCD SECURITY ADVISORY =============================  Summary: If SASL support is enabled in UnrealIRCd (this is not the default) and is also enabled in your services package then a malicious user with a services account can cause UnrealIRCd to crash.  Most people have not enabled SASL, and those who do can easily fix this potential crash issue without a server restart. See below.  Index: * Who is affected * Solutions * Workaround * Patch / hotfix * New versions * Bug details * Timeline * References  ==[ WHO IS AFFECTED ]== For a user to be able to crash UnrealIRCd *ALL* of the following conditions must be true: 1) Must be running UnrealIRCd version or higher (including     The 3.4.x series are also affected (including 2) In your configuration file (unrealircd.conf or included files) you have     configured a SASL server via set::sasl-server 3) You are using a services package (such as anope) and the server is linked 4) SASL support is enabled in your services 5) The malicious user has (or can) register an account at services (usually     via NickServ).  If one of the points above is not true for your installation then a remote user cannot crash your server via this bug. In particular, if you are not using SASL then no patch or upgrade is needed and you can stop reading here.  If you are unsure if you have enabled SASL then search for sasl-server in your configuration files. If this word is not found then SASL is disabled. This will actually be the case for the majority of installations. When SASL is enabled in the configuration file it will look like this: set {          sasl-server "services.something.net"; };  ==[ SOLUTIONS ]== For UnrealIRCd we present 3 possible solutions in case you are affected by this bug: 1) A workaround (NO restart needed) 2) A patch (NO restart needed) (*NIX only) 3) A new UnrealIRCd version (for new installations)  For the UnrealIRCd 3.4 beta series we suggest you to upgrade to  ==[ WORKAROUND ]== If you remove the sasl-server directive from your configuration file and rehash the IRCd then SASL support will be disabled. This is an easy workaround but for most people who have SASL enabled this won't be an acceptable solution.  ==[ PATCH / HOTFIX ]== If you are on *NIX then it's possible to fix the crash issue by patching the source, recompiling UnrealIRCd, and then rehashing the server. This will fix your IRC server without requiring a server restart.  Execute the following commands on the shell from your UnrealIRCd directory, for example from  wget http://www.unrealircd.org/downloads/sasl.patch patch -p0 <sasl.patch make && make install  After doing the above you must rehash the IRCd. Either online as an IRCOp by using the /REHASH command, or via ./unreal rehash on the command line.  ==[ NEW VERSIONS ]== New versions of UnrealIRCd are available which include a fix for this issue. They are (stable) and (development version). The new versions are meant for Windows users and new installations. For *NIX users with existing installations we suggest to use the patch or workaround instead because doing so incurs no downtime.  ==[ BUG DETAILS ]== Type of bug:          Crash due to NULL pointer dereference  CVSS v2:              AV:N/AC:L/Au:S/C:N/I:N/A:C/E:F/RL:OF/RC:C CVSS Base Score:      6.8 CVSS Temporal Score:  5.6  ==[ TIMELINE ]== Times are in UTC+2    Bug reported privately to UnrealIRCd team    First response    Bug confirmed by developer    Patched    Source and binary releases ready    Security advisory sent out  ==[ REFERENCES ]== This advisory (and updates to it, if any) is available from: Forum thread:  -- Bram Matthys Software developer/IT consultant        syzop@...nscan.org <javascript:;> Website:                                  www.vulnscan.org PGP key:                       www.vulnscan.org/pubkey.asc PGP fp: EBCA FCA6 0AB0 6EDB  7FE1  ------------------------------------------------------------------------------ _______________________________________________ Unreal-notify mailing list Unreal-notify@...ts.sourceforge.net <javascript:;> https://lists.sourceforge.net/lists/listinfo/unreal-notify   Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      