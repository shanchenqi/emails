  oss-security - CSRF Vulnerability in jquery-ujs and jquery-rails            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [day] [month] [year] [list]  Date: Tue, 16 Jun From: Aaron Patterson <tenderlove@...y-lang.org> To: security@...e.de, rubyonrails-security@...glegroups.com, 	oss-security@...ts.openwall.com, ruby-security-ann@...glegroups.com Subject: CSRF Vulnerability in jquery-ujs and jquery-rails  CSRF Vulnerability in jquery-ujs and jquery-rails  There is an vulnerability in jquery-ujs and jquery-rails that can be used to bypass CSP protections and allows attackers to send CSRF tokens to attacker domains.  This vulnerability has been assigned the CVE identifier  Versions Affected:  All. Not affected:       Applications which don't use jquery-ujs or jquery-rails. Fixed Versions:     jquery-rails versions and and jquery-ujs  Impact ------ In the scenario where an attacker might be able to control the href attribute of an anchor tag or the action attribute of a form tag that will trigger a POST action, the attacker can set the href or action to " https://attacker.com" (note the leading space) that will be passed to JQuery, who will see this as a same origin request, and send the user's CSRF token to the attacker domain.  Releases -------- The FIXED releases are available at the normal locations.  Workarounds ----------- To work around this problem, change code that allows users to control the href attribute of an anchor tag or the action attribute of a form tag to filter the user parameters.  For example, code like this:      link_to params  to code like this:      link_to filtered_params      def filtered_params       # Filter just the parameters that you trust     end  Patches ------- To aid users who aren't able to upgrade immediately we have provided patches for the supported release series. They are in git-am format and consist of a single changeset.  * - Patch for jquery-ujs  * - Patch for jquery-rails * - Patch for jquery-rails  Credits -------  Thanks to Ben Toews of GitHub for reporting the vulnerability to us, and working with us on a fix.  --  Aaron Patterson http://tenderlovemaking.com/  View attachment of type "text/plain" bytes)  View attachment of type "text/plain" bytes)  View attachment of type "text/plain" bytes)  Content of type "application/pgp-signature" skipped  Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      