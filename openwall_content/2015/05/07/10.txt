  oss-security - Docker - Security Advisory            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [day] [month] [year] [list]  Date: Thu, 7 May From: Eric Windisch <ewindisch@...ker.com> To: oss-security@...ts.openwall.com Subject: Docker - Security Advisory  Docker Engine version has been released to address several vulnerabilities and is immediately available for all supported platforms. Users are advised to upgrade existing installations of the Docker Engine and use for new installations.  It should be noted that each of the vulnerabilities allowing privilege escalation may only be exploited by a malicious Dockerfile or image.  Users are advised to run their own images and/or images built by trusted parties, such as those in the official images library.  Please send any questions to security@...ker.com.   ====================================================================  Symlink traversal on container respawn allows local privilege escalation  ====================================================================  Libcontainer version introduced changes which facilitated a mount namespace breakout upon respawn of a container. This allowed malicious images to write files to the host system and escape containerization.  Libcontainer and Docker Engine have been released to address this vulnerability. Users running untrusted images are encouraged to upgrade Docker Engine.  Discovered by TĂľnis Tiigi.   ==============================================================  Insecure opening of file-descriptor 1 leading to privilege escalation  ==============================================================  The file-descriptor passed by libcontainer to the pid-1 process of a container has been found to be opened prior to performing the chroot, allowing insecure open and symlink traversal. This allows malicious container images to trigger a local privilege escalation.  Libcontainer and Docker Engine have been released to address this vulnerability. Users running untrusted images are encouraged  to upgrade Docker Engine.  Discovered by TĂľnis Tiigi.   ==================================================================  Read/write proc paths allow host modification & information disclosure  ==================================================================  Several paths underneath /proc were writable from containers, allowing global system manipulation and configuration. These paths included /proc/asound, /proc/timer_stats, /proc/latency_stats, and /proc/fs.  By allowing writes to /proc/fs, it has been noted that CIFS volumes could be forced into a protocol downgrade attack by a root user operating inside of a container. Machines having loaded the timer_stats module were vulnerable to having this mechanism enabled and consumed by a container.  We are releasing Docker Engine to address this vulnerability. All versions up to are believed vulnerable. Users running untrusted images are encouraged to upgrade.  Discovered by Eric Windisch of the Docker Security Team.  ===============================================  Volume mounts allow LSM profile escalation  ===============================================  By allowing volumes to override files of /proc within a mount namespace, a user could specify arbitrary policies for Linux Security Modules, including setting an unconfined policy underneath AppArmor, or a docker_t policy for processes managed by SELinux. In all versions of Docker up until it is possible for malicious images to configure volume mounts such that files of proc may be overridden.  We are releasing Docker Engine to address this vulnerability. All versions up to are believed vulnerable. Users running untrusted images are encouraged to upgrade.  Discovered by Eric Windisch of the Docker Security Team.  ========================  AppArmor policy improvements  ========================  The release also marks preventative additions to the AppArmor policy. Recently, several CVEs against the kernel have been reported whereby mount namespaces could be circumvented through the use of the sys_mount syscall from inside of an unprivileged Docker container. In all reported cases, the AppArmor policy included in libcontainer and shipped with Docker has been sufficient to deflect these attacks. However, we have deemed it prudent to proactively tighten the policy further by outright denying the use of the sys_mount syscall.  Because this addition is preventative, no CVE-ID is requested.  --  Regards, Eric Windisch Docker Security Team   Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      