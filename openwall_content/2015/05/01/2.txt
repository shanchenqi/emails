  oss-security - - Incorrect server certificate validation            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [day] [month] [year] [list]  Date: Sat, 02 May From: Amos Jeffries <squid3@...enet.co.nz> To: oss-security@...ts.openwall.com Subject: - Incorrect server certificate validation  -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1  __________________________________________________________________      Squid Proxy Cache Security Update Advisory __________________________________________________________________  Advisory ID:            Date:                   May 01, Summary:                Incorrect server certificate validation Affected versions:      Squid 3.2 ->                         Squid 3.3 ->                         Squid 3.4 ->                         Squid 3.5 -> Fixed in version:       Squid __________________________________________________________________          __________________________________________________________________  Problem Description:   Squid configured with client-first SSL-bump does not correctly  validate server certificate domain / hostname fields.  __________________________________________________________________  Severity:   The bug is important because it allows remote servers to bypass  client certificate validation. Some attackers may also be able  to use valid certificates for one domain signed by a global  Certificate Authority to abuse an unrelated domain.   However, the bug is exploitable only if you have configured  Squid to perform SSL Bumping with the "client-first" or "bump"  mode of operation.   Sites that do not use SSL-Bump are not vulnerable.  __________________________________________________________________  Updated Packages:   This bug is fixed by Squid version and    In addition, patches addressing this problem for stable releases  can be found in our patch archives:  Squid 3.2: tch  Squid 3.3: tch  Squid 3.4: tch  Squid 3.5: tch   If you are using a prepackaged version of Squid then please refer  to the package vendor for availability information on updated  packages.  __________________________________________________________________  Determining if your version is vulnerable:   All Squid-2.x, 3.0 and 3.1 are not vulnerable to the problem.   1) Run "squid -v" to determine if SSL support is enabled.   All Squid built without SSL support are not vulnerable to the  problem.   2) Run "squid -k parse 2>&1 | grep ssl_bump" to determine if SSL-Bump is being used.   All Squid-3.2, 3.3, 3.4, and 3.5 operating with ssl_bump omitted  from squid.conf are not vulnerable to the problem.   All unpatched Squid-3.x operating with "ssl_bump client-first"  in squid.conf are vulnerable to the problem.   All unpatched Squid-3.x operating with "ssl_bump bump" in  squid.conf are vulnerable to the problem.  __________________________________________________________________  Workaround:   There is no workaround for Squid-3.2.   For Squid-3.3 and 3.4, upgrade the squid.conf settings to use  "ssl_bump server-first".   For Squid-3.5, upgrade the squid.conf settings to use a  "ssl_bump peek" operation before the "bump" operation.    NOTE that these workarounds do not resolve the vulnerability,   but allow Squid to relay (or mimic) the invalid certificate to   clients and depends on validation in the client.   Or,   Disable SSL-Bump. Which may be done in the following ways:   * Build Squid-3.2, 3.3, or 3.4 with ./configure --disable-ssl   * Build Squid-3.5 with ./configure --without-openssl   * Remove from squid.conf (and include'd files) any ssl_bump    directives.  __________________________________________________________________  Contact details for the Squid project:   For installation / upgrade support on binary packaged versions  of Squid: Your first point of contact should be your binary  package vendor.   If you install and build Squid from the original Squid sources  then the squid-users@...id-cache.org mailing list is your primary  support point. For subscription details see  http://www.squid-cache.org/Support/mailing-lists.html.   For reporting of non-security bugs in the latest release  the squid bugzilla database should be used  http://bugs.squid-cache.org/.   For reporting of security sensitive bugs send an email to the  squid-bugs@...id-cache.org mailing list. It's a closed list  (though anyone can post) and security related bug reports are  treated in confidence until the impact has been established.  __________________________________________________________________  Credits:   The vulnerability was discovered and reported by a contributor  who wishes to remain anonymous.   The vulnerability was fixed and tested by   Amos Jeffries, Treehouse Networks Ltd. and   Christos Tsantilas, The Measurement Factory.  __________________________________________________________________  Revision history:   GMT Initial Report  GMT CVE Assignment  GMT Patches and Packages Released __________________________________________________________________ END -----BEGIN PGP SIGNATURE----- Version: GnuPG (MingW32)  =/qom -----END PGP SIGNATURE-----  Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      