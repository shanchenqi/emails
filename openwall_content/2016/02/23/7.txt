  oss-security - Re: Access to /dev/pts devices via pt_chown and user namespaces            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [<thread-prev] [thread-next>] [day] [month] [year] [list]  Date: Tue, 23 Feb From: "Dmitry V. Levin" <ldv@...linux.org> To: oss-security@...ts.openwall.com Subject: Re: Access to /dev/pts devices via pt_chown and user namespaces  On Tue, Feb 23, at Solar Designer wrote: > On Tue, Feb 23, at halfdog wrote: > > Sending content from [0] also to oss-security as requested last time: >  > Thank you.  This public disclosure is very late, though.  I didn't > realize you were still holding some of your findings on this. >  > > With Ubuntu Wily and earlier, /usr/lib/pt_chown was used to change > > ownership of slave pts devices in /dev/pts to the same uid holding the > > master file descriptor for the slave. >  > I think pt_chown is only needed for legacy BSD pty's, and no longer > needed for Unix 98 pty's that Linux systems use these days.  Perhaps it > should be dropped from upstream glibc by now.  Just for the record, pt_chown is not enabled by default in upstream glibc starting with one has to specify --enable-pt_chown configure option explicitly to build pt_chown.  glibc documentation clearly states that "the use of pt_chown introduces additional security risks to the system and you should enable it only if you understand and accept those risks": https://www.gnu.org/software/libc/manual/html_node/Configuring-and-compiling.html#index-grantpt-1   --  ldv  Content of type "application/pgp-signature" skipped  Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      