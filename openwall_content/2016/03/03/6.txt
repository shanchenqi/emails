  oss-security - Exim fixed            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [day] [month] [year] [list]  Date: Thu, 3 Mar From: Heiko Schlittermann <hs@...littermann.de> To: oss-security <oss-security@...ts.openwall.com> Subject: Exim fixed  Hello,  We've fixed The fix was announced to the public via exim-{maintainers,dev,users} mailing lists, via the about Wed, 2 Mar GMT, the announcement to exim-announce followed about one hour later.  Known distro maintainers and Exim contributors got access to the fix on Monday, 29 Feb at GMT.  Some *BSD portability issues where fixed on Tue Mar 1 late evening.  The announcement we sent to the above mentioned lists:  Security fix for ==============================  All installations having Exim set-uid root and using 'perl_startup' are vulnerable to a local privilege escalation. Any user who can start an instance of Exim (and this is normally *any* user) can gain root privileges.  New options -----------  We had to introduce two new configuration options:      keep_environment =     add_environment =  Both options are empty per default. That is, Exim cleans the complete environment on startup. This affects Exim itself and any subprocesses, as transports, that may call other programs via some alias mechanisms, as routers (queryprogram), lookups, and so on.  ** THIS MAY BREAK your existing installation **  If both options are not used in the configuration, Exim issues a warning on startup. This warning disappears if at least one of these options is used (even if set to an empty value).  keep_environment should contain a list of trusted environment variables. (Do you trust PATH?). This may be a list of names and REs.      keep_environment = ^LDAP_ : FOO_PATH  To add (or override) variables, you can use add_environment:      add_environment = <; PATH=/sbin:/usr/sbin   New behaviour -------------  Now Exim changes it's working directory to / right after startup, even before reading it's configuration. (Later Exim changes it's working directory to $spool_directory, as usual.)  Exim only accepts an absolute configuration file path now, when using the -C option.   Thank you for your understanding.       Best regards from Dresden/Germany     Viele GrĂźĂe aus Dresden     Heiko Schlittermann --   SCHLITTERMANN.de ---------------------------- internet & unix support -  Heiko Schlittermann, Dipl.-Ing. (TU) - {fon,fax}: -  gnupg encrypted messages are welcome --------------- key ID: -  ! key id and are revoked since ------------ -  Download attachment "signature.asc" of type "application/pgp-signature" bytes)  Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      