  oss-security - Re: cve request: systemd-machined: information  exposure for docker containers            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [<thread-prev] [thread-next>] [day] [month] [year] [list]  Date: Thu, 28 Jul From: Simon McVittie <smcv@...ian.org> To: oss-security@...ts.openwall.com Subject: Re: cve request: systemd-machined: information  exposure for docker containers  On Thu, 28 Jul at Daniel J Walsh wrote: > Lennart is wrong when he states that this only effects "user" > containers, any container that registers with > machinectl, will have this information revealed to non privileged user > processes.  *Which* unprivileged user processes?  If the unprivileged user processes are not in a container, they can get a significant amount of the same information by reading the host's /proc.  If the unprivileged user processes are in a container or other confinement that prevents them from looking at the host's /proc, then one of the other things that confinement can/should prevent is unfiltered access to the host system's D-Bus system bus, which is how machinectl talks to systemd-machined.  Lennart also points out on the systemd bug that the methods in question can be access-controlled (at your own risk, the policy language is horrible) by modifying /etc/dbus-1/system.d/org.freedesktop.machine1.conf. They don't appear to be mediated by /usr/share/polkit-1/actions/org.freedesktop.machine1.policy too, but they could be; that would be an enhancement request for systemd upstream.  I think the bottom line here is that if the author of a container integration tool chooses to publish information in a central registry (systemd-machined), then they shouldn't be surprised to find the central registry's security model getting applied to that information.      S  Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      