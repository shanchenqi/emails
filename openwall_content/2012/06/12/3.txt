  oss-security - Xen Security Advisory 9 - PV guest host DoS (AMD erratum            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [thread-next>] [day] [month] [year] [list]  Date: Tue, 12 Jun From: Xen.org security team <security@....org> To: xen-announce@...ts.xensource.com,     xen-devel@...ts.xensource.com,     xen-users@...ts.xensource.com,     oss-security@...ts.openwall.com Subject: Xen Security Advisory 9 - PV guest host DoS (AMD erratum  -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1  	     Xen Security Advisory / XSA-9                             version 3  		   PV guest host Denial of Service  UPDATES IN VERSION 3 ====================  Public release.  Previous versions were embargoed.  Remove leftover statement that CVE number had not been assigned. The correct CVE for this issue is  ISSUE DESCRIPTION =================  A Xen user has discovered that some older AMD CPUs can be made to lock up due to AMD processor erratum  This issue was discovered during testing of the fix for XSA-7 Although the two issues are unrelated the situations which can trigger them may overlap.  REFERENCES ==========  AMD Erratum is described in "Revision Guide for AMD Athlon 64 and AMD Opteron Processors":  IMPACT ======  A guest user or administrator of a 64 bit PV guest on a vulnerable system can cause the processor to lock up, leading to a Denial of Service attack against the host.  Systems which run only 32 bit guest kernels are not vulnerable.  VULNERABLE SYSTEMS ==================  The following and 90nm (DDR1-only) AMD processors are subject to this erratum:   * First-generation AMD-Opteron(tm) single and dual core processors    in either or packages:    * AMD Opteron(tm) Processors    * AMD Opteron(tm) Processors    * AMD Opteron(tm) Processors  * AMD Athlon(tm) processors in either or packages  * AMD Sempron(tm) processor in either or packages  * AMD Turion(tm) Mobile Technology in package  None of the affected processors support AMD SVM.  Therefore, any system which has any HVM Xen guests is not vulnerable.  This issue does not affect Intel processors.  MITIGATION ==========  Running a 64 bit PV guest kernel (which must necessarily be host administrator controlled) which itself contains the fix for erratum will prevent unprivileged users in guests from exploiting this issue.  All Windows operating systems and current versions of the Linux and Solaris kernels, for example, are known to contain the fix for erratum  There is no mitigation when running untrusted 64 bit guest kernels or against untrusted administrators of 64 bit guests.  Systems which run only 32 bit PV guest kernels are not vulnerable. Note that this may mean only booting known good kernels or vetting any user supplied kernels to ensure they are not 64 bit.  RESOLUTION ==========  There is no software fix for this issue. The workaround suggested by AMD in erratum cannot be applied to Xen since the relevant address is under guest control.  Applying the patch will cause Xen to detect vulnerable systems and refuse to boot. A command line override is provided to allow users who accept the risks or who are able to mitigate as above to continue to do so. To activate the override add "allow_unsafe" to your hypervisor command line.  This change has been made to the staging Xen repositories:   xen-unstable.hg        xen-4.1-testing.hg     xen-4.0-testing.hg    PATCH INFORMATION =================   xen-unstable                                xsa9-unstable.patch    Xen 4.1, 4.1.x                               Xen 4.0, 4.0.x                               $ xsa9-*.patch  xsa9-unstable.patch    NOTE REGARDING EMBARGO ======================  Due to the relationship between this issue and XSA-7 we have concluded that this advisory should be under the same embargo as XSA-7. -----BEGIN PGP SIGNATURE----- Version: GnuPG (GNU/Linux)  =X3We -----END PGP SIGNATURE-----   Download attachment "xsa9-unstable.patch" of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      