  oss-security - Xen Security Advisory v1 - Load Value  Injection (LVI) speculative side channel            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [day] [month] [year] [list]  Date: Tue, 10 Mar From: Xen.org security team <security@....org> To: xen-announce@...ts.xen.org, xen-devel@...ts.xen.org,  xen-users@...ts.xen.org, oss-security@...ts.openwall.com CC: Xen.org security team <security-team-members@....org> Subject: Xen Security Advisory v1 - Load Value  Injection (LVI) speculative side channel  -----BEGIN PGP SIGNED MESSAGE----- Hash:              Xen Security Advisory /             Load Value Injection (LVI) speculative side channel  ISSUE DESCRIPTION =================  This is very closely related to the Microarchitectural Data Sampling vulnerabilities from May  Please see for details about MDS.  A new way of using the micro-architectural details behind MDS has been identified.  Instead of simply trying to sample data from a different privilege context, an attacker can arrange for poisoned data to be consumed (speculatively) in a victim context.  This expands the range of tools by which an attacker can manipulate speculation in the victim context to leak data via a side channel.  For more details, see:   https://software.intel.com/security-software-guidance/insights/deep-dive-load-value-injection  IMPACT ======  An attacker, which could include a malicious untrusted user process on a trusted guest, or an untrusted guest, can potentially cause a victim context (process, or guest, or guest kernel, or hypervisor) to leak secrets available to it.  VULNERABLE SYSTEMS ==================  Systems running all versions of Xen are affected.  Only x86 processors are vulnerable. ARM processors are not believed to be vulnerable.  Only Intel based processors are potentially affected.  Processors from other manufacturers (e.g. AMD) are not believed to be vulnerable.  Please consult the Intel Security Advisory for details on the affected processors.  MITIGATION ==========  Xen does not support the use of SGX (Software Guard Extensions). Outside of the SGX enclave case, the attacker has a limited ability to control the paging behaviour in the victim context.  Therefore, it is not believed that there is a practical way to attack a victim context which is not an SGX enclave.  Furthermore, preexisting work (including fixes for MDS, SMAP hardening for user pointers) and in-progress work (core scheduling for SMT systems) all raise the bar further for an attacker.  There are no known LVI gadgets within Xen.  As a result, we have decided not to make any changes to default configurations of Xen.  Systems with untrusted PV guests, and whose host administrators are worried about potential LVI gadgets, might wish to consider changing the VM to be HVM instead, or make use of PV-Shim, to limit the scope of a potential attack.  NOTE REGARDING PAGE MODIFICATION LOGGING ========================================  Included for completeness, rather than due to being a realistic concern:  On Intel Broadwell and later systems, Xen uses Page Modification Logging to accelerate logdirty tracking on migration.  The use of this does put the guest kernel at a higher risk of being attacked, due to the use of EPT Access/Dirty bits used behind the scenes.  Userspace shouldn't be able to influence when a migration occurs, but booting Xen with `ept=no-ad` will mitigate this concern by causing Xen to fall back to software logdirty tracking.  RESOLUTION ==========  There is no complete resolution available.  In general, administrators of Xen systems are recommended to take no action in response to this vulnerability.  If potential LVI gadgets are discovered in Xen, they will be addressed on a case by case basis, in the same way as Spectre v1 hardening.  NOTE REGARDING LACK OF EMBARGO ==============================  Despite an attempt to organise predisclosure, the discoverers ultimately did not authorise a predisclosure. -----BEGIN PGP SIGNATURE-----  =DFQP -----END PGP SIGNATURE-----   Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      