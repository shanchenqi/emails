  oss-security - Re: About OpenSSH "user enumeration" /            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [<thread-prev] [thread-next>] [day] [month] [year] [list]  Date: Fri, 24 Aug From: Solar Designer <solar@...nwall.com> To: oss-security@...ts.openwall.com Cc: openssh-unix-dev@...drot.org Subject: Re: About OpenSSH "user enumeration" /  Hi Damien,  Thank you for sharing these thoughts with the community.  On Fri, Aug 24, at Damien Miller wrote: > Finally, and perhaps most importantly: there's a fundamental tradeoff > between attack surface and fixing this class of bug. As a concrete > example, fixing this one added about lines of code to our > pre-authentication attack surface. In this case, we were willing to do > this because we had confidence in the additional parsing, mostly because > it's been reviewed several times and we've conducted a decent amount of > fuzzing on it. But, given the choice between leaving a known account > validity oracle or exposing something we don't trust, we'll choose the > former every time.  Can you summarize for us all (on these mailing lists) the commits leading to OpenSSH 7.8 that deal with this issue and add "about lines of code", please?  The commit originally referenced by Qualys doesn't.  I guess this has to do with you fixing not only the yes/no kind of oracle, but also mitigating some timing oracle(s), as per the change log:   * sshd(8): add some countermeasures against timing attacks used for    account validation/enumeration. sshd will enforce a minimum time    or each failed authentication attempt consisting of a global 5ms    minimum plus an additional per-user 0-4ms delay derived from a    host secret.   * sshd(8): avoid observable differences in request parsing that could    be used to determine whether a target user is valid.  Thanks again,  Alexander  Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      