  oss-security - Re: Re: More Ghostscript Issues: Should we disable PS  coders in policy.xml by default?            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [<thread-prev] [thread-next>] [day] [month] [year] [list]  Date: Tue, 21 Aug From: Tavis Ormandy <taviso@...gle.com> To: oss-security@...ts.openwall.com Subject: Re: Re: More Ghostscript Issues: Should we disable PS  coders in policy.xml by default?  Thanks Alex.  FWIW, not all of these are visible, but I've started filing bugs, I'll file a few more today and then let the developers work through the most serious ones.  /invalidaccess checks stop working after a failed restore missing type checking in setcolor LockDistillerParams boolean missing type checks missing type check in type checker (!) .tempfile SAFER restrictions seem to be broken Bypassing PermitFileReading by handling undefinedfilename error shading_param incomplete type checking pdf14 garbage collection memory corruption calling .bindnow causes sideeffects .setdistillerkeys memory corruption corrupt device object after error in job  I'm working on getting reproducers working for the developers for all bugs.  On Tue, Aug 21, at AM Alex Gaynor <alex.gaynor@...il.com> wrote:  > A small note. Both ImageMagick and GraphicsMagick process various file > formats that can nest a different image file inside of them. These are very > frequently implemented with a call to ReadImage(), with no checking that > it's the expected file format. (As a result, the fuzzer finds various > impressive chains, with sometimes 3 different image formats nested inside > of each other). > > The conclusion of this is that people _must not_ attempt to do their own > format detection and then pass the data to IM/GM, because this can be > bypassed with nested formats. It's imperative that GS truly be disabled > with either policy.xml or by uninstall GS. > > Alex > > On Tue, Aug 21, at AM Bob Friesenhahn < > bfriesen@...ple.dallas.tx.us> wrote: > > > On Tue, 21 Aug Tavis Ormandy wrote: > > > > > > I think those thumbnails should be disabled, but you've probably > noticed > > I > > > think everything related to untrusted ghostscript should be disabled > :-) > > > > I have posted to the GraphicsMagick Announcements mailing list > > regarding your findings (with a link to this list) and suggested that > > a fool-proof solution is that Ghostscript should be uninstalled. > > > > Uninstalling Ghostscript entirely might cause software using libgs to > > not execute at all unless a stub library is put in its place. > > > > Dependencies on Ghostscript are much larger than one would initially > > think due to Postscript being the traditional output from Unix > > software for "printing" and thus it is used as an intermediate format > > in order to convert between formats.  EPS content is also embedded in > > some other formats. > > > > Bob > > -- > > Bob Friesenhahn > > bfriesen@...ple.dallas.tx.us, > http://www.simplesystems.org/users/bfriesen/ > > GraphicsMagick Maintainer,    http://www.GraphicsMagick.org/ > > > > > -- > All that is necessary for evil to succeed is for good people to do nothing. >   Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      