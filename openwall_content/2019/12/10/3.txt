  oss-security - Kernel: KVM: export MSR_IA32_TSX_CTRL to guest -  incomplete fix for TAA            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [thread-next>] [day] [month] [year] [list]  Date: Tue, 10 Dec (IST) From: P J P <ppandit@...hat.com> To: oss security list <oss-security@...ts.openwall.com> Subject: Kernel: KVM: export MSR_IA32_TSX_CTRL to guest -  incomplete fix for TAA     Hello,  Transaction Asynchronous Abort (TAA) h/w issue, which affects Intel CPUs, is  mitigated in two ways. One is by disabling Transactional Synchronisation  Extensions (TSX) feature of the CPU. And second is by clearing the affected  Store/Fill/Load port architectural buffers, which may hold sensitive  information bits.  It was found that the current kernel fixes don't completely fix TAA issue for  guest VMs. When a guest is running on a host CPU affected by TAA (ie.  TAA_NO=0) but not affected by MDS issue (ie MDS_NO=1), to mitigate TAA issue,  guest was to clear the affected buffers by using VERW instruction mechanism.  But when MDS_NO=1 bit was exported to the guests, it did not quite use the  VERW mechanism to clear the affected buffers.  This issue affects guests running on Cascade Lake CPUs, which are affected by  the TAA (ie. TAA_NO=0) issue, but are not affected by the MDS (ie. MDS_NO=1)  issue.  It requires that host has 'TSX' enabled.  Upstream patches: -----------------    ->    ->    ->  Another option: Export MDS_NO=0 to guests when TSX is enabled    ->  is assigned by Red Hat Inc.  Thank you. -- Prasad J Pandit / Red Hat Product Security Team B54C C6EB 8B5A DE8D   Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      