  oss-security - RE: CVE request: Debian's package "mysql-server"  leaks credential information            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [<thread-prev] [thread-next>] [day] [month] [year] [list]  Date: Sun, 9 Jun From: "Christey, Steven M." <coley@...re.org> To: "oss-security@...ts.openwall.com" <oss-security@...ts.openwall.com> CC: "gremlin@...mlin.ru" <gremlin@...mlin.ru> Subject: RE: CVE request: Debian's package "mysql-server"  leaks credential information  >From: Daniel Kahn Gillmor [mailto:dkg@...thhorseman.net] >Sent: Saturday, June 08, PM >To: oss-security@...ts.openwall.com >Cc: gremlin@...mlin.ru >Subject: Re: [oss-security] CVE request: Debian's package "mysql-server" >leaks credential information > >On AM, gremlin@...mlin.ru wrote: > >> That's not a security issue, but a misconfiguration > >I consider this a security bug in the debian package's maintainer >scripts: it is a race condition that leaks confidential information to a >user who "wins" the race.  It is *not* a misconfiguration; it is a bug >with security implications.  This is the CVE perspective, as well.  Even though "setting permissions and ownership of a file" is clearly a configuration operation, as Kurt said, we do sometimes cover such issues.  Looking at the code extract for the installation script in Debian bug it is clear that debian.cnf is expected to have certain ownership and permissions; this is part of a "security policy" that is specified by the code with the chown/chmod commands, which override the default umask.  Due to the race condition, an attacker can violate this policy, which argues strongly for inclusion in CVE.  We have maybe 10 to 20 previous CVEs that involve insufficient control of permissions during installation or copies (for example, extracting a lot of files from an archive, or doing a recursive directory copy, and changing the permissions only *after* they have all been extracted.)  There has been some past discussion on oss-security about when reliance on a default umask is sufficient for inclusion in CVE or not.  See September discussion about gpg and vim starting at , with my commentary at and Kurt's at .  While there aren't any hard-and-fast rules, a file containing private keys or credentials is typically expected to be readable only by the intended user of the program, so creation of a file with insecure permissions due to reliance on a default umask would likely qualify for a CVE.  - Steve   Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      