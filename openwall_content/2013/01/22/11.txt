  oss-security - Re: CVE Request coreutils            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [<thread-prev] [thread-next>] [day] [month] [year] [list]  Date: Tue, 22 Jan From: Vincent Danen <vdanen@...hat.com> To: Sebastian Krahmer <krahmer@...e.de> Cc: oss-security@...ts.openwall.com Subject: Re: CVE Request coreutils  * Sebastian Krahmer wrote:  >Generally, I see your point. However sometimes services running as >root 'sort' or 'uniq' user input e.g. via grepping logfiles etc, >so there is indeed a real chance to indirectly trigger a privilege >escalation. The past shows that segfaults can be turned into a >code exec often. Its a stack overflow after all.  Do you believe this would be the case with modern GCC/Glibc hardening though?  Wouldn't this just be rendered a crash?  But even then, if we're talking about logfiles (which is a reasonable case) you'd have to be allowing user-controlled input to your logs, which would mean you'd have another problem.  I'm also assuming, based on the comments in the first bug, that you need a really large line (not just an entire file, but one line).  How likely is it that you would be grepping a log file with ~10MB of data on one line?  Perhaps root grepping/sorting/etc. a logfile is a valid use-case and some user-supplied input could be stored in there (perhaps a crafted apache url, etc. or maybe a local user running logger to inject a custom log entry), but do these programs even allow for a ~10MB in length URL or data?  (I've not looked, maybe they do?)  >On Mon, Jan 21, at Kurt Seifried wrote: >> -----BEGIN PGP SIGNED MESSAGE----- >> Hash: SHA1 >> >> On PM, Vincent Danen wrote: >> > * Moritz Muehlenhoff wrote: >> > >> >>> Can someone assign a CVE id for a buffer overflow in >> >>> coreutils? Its the same code snippet (coreutils-i18n.patch) and >> >>> it affects sort, uniq and join: >> >>> >> >>> >> >>> >> >>> >> >> >> >> Could you send the faulty patch to the list so that distros can >> >> validate that they don't include it themselves? >> > >> > Red Hat/Fedora do include this patch, so it's more than just SUSE >> > that ships them.  However, when I was looking at them last week, >> > this struck me as just a non-exploitable crash and unless I'm >> > missing something, I think it would be quite the stretch to call it >> > a security flaw. >> >> Agreed, there is no significant impact of exploitation and there is no >> real easy way to trick a victim into doing this (and even if you do, >> so what? now if it was code exec we might be talking about something >> interesting). >> >> - -- >> Kurt Seifried Red Hat Security Response Team (SRT) >> PGP: A90B 66BF >> >> -----BEGIN PGP SIGNATURE----- >> Version: GnuPG (GNU/Linux) >> >> >> >> >> >> >> >> >> >> >> >> >> >> =rw4/ >> -----END PGP SIGNATURE----- > >--  > >~ perl self.pl >~ >~ krahmer@...e.de - SuSE Security Team >  --  Vincent Danen / Red Hat Security Response Team   Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      