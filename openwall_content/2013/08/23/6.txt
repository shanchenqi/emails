  oss-security - Re: [PATCH] implement privmode support in dash            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [<thread-prev] [thread-next>] [day] [month] [year] [list]  Date: Thu, 22 Aug From: Tavis Ormandy <taviso@...xchg8b.com> To: oss-security@...ts.openwall.com Subject: Re: [PATCH] implement privmode support in dash  Simon McVittie <smcv@...ian.org> wrote:  > On Tavis Ormandy wrote: > > For example, here is one I just found in vmware-tools that manages to > > call popen("lsb_release") with effective uid zero: > >  > > $ cc -xc - -olsb_release<<<'main(){system("sh>`tty` > > 2>&1");}';PATH=.:$PATH vmware-mount # whoami root >  > Having (da)sh drop privileges is a useful bit of hardening, but it doesn't > help you if the vulnerable executable does a fork-and-exec without using > the shell (at least with one of the exec variants that respects $PATH, > like execvp), or some more friendly wrapper around fork-and-exec like > posix_spawnp() or GLib's g_spawn family of functions. >   Sure, but we shouldn't let the perfect be the enemy of the good. -fstack-protector doesn't magically make anything safe, but it's still a useful mitigation tool that we would be worse off without.  We can't produce a patch that makes every crazy thing someone might want to do while setuid safe, but this is a common pattern that Debian-derived distributions lag behind on. I guarantee it will save you a few CVE's over the next few years :)  Tavis.   --  ------------------------------------- taviso@...xchg8b.com | pgp encrypted mail preferred -------------------------------------------------------   Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      