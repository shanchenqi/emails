  oss-security - strings / libbfd crasher            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [thread-next>] [day] [month] [year] [list]  Date: Thu, 23 Oct From: Hanno Bรถck <hanno@...eck.de> To: oss-security@...ts.openwall.com Subject: strings / libbfd crasher  Hi,  I'm forwarding this here so it doesn't get lost: http://lcamtuf.coredump.cx/stringme  Short: Michal Zalewski (who is also on this list and probably can give us some more info) fuzzed a sample that crashes the strings command, due to a bug in libbfd. (by the way: nice catch, always interesting to see potential vulns in places you don't expect them.)  strings/libbfd belong to binutils. I haven't seen a corresponding commit, their latest release is a bit old.  I think it deserves a CVE and further analysis. Seems to be "only" an out of bounds read.  Some valgrind output that gives an idea whats going on:   Memcheck, a memory error detector Copyright (C) and GNU GPL'd, by Julian Seward et al. Using and LibVEX; rerun with -h for copyright info Command: strings stringme  Invalid read of size 1    at srec_scan (in    by srec_object_p (in    by bfd_check_format_matches (in    by main (in  Address is 0 bytes after a block of size 6 alloc'd    at malloc (in    by bfd_malloc (in    by srec_scan (in    by srec_object_p (in    by bfd_check_format_matches (in    by main (in  Invalid read of size 1    at srec_scan (in    by srec_object_p (in    by bfd_check_format_matches (in    by main (in  Address is 1 bytes after a block of size 6 alloc'd    at malloc (in    by bfd_malloc (in    by srec_scan (in    by srec_object_p (in    by bfd_check_format_matches (in    by main (in  Invalid read of size 1    at srec_scan (in    by srec_object_p (in    by bfd_check_format_matches (in    by main (in  Address is 2 bytes after a block of size 6 alloc'd    at malloc (in    by bfd_malloc (in    by srec_scan (in    by srec_object_p (in    by bfd_check_format_matches (in    by main (in  Invalid read of size 1    at srec_scan (in    by srec_object_p (in    by bfd_check_format_matches (in    by main (in  Address is 3 bytes after a block of size 6 alloc'd    at malloc (in    by bfd_malloc (in    by srec_scan (in    by srec_object_p (in    by bfd_check_format_matches (in    by main (in   Process terminating with default action of signal 11 (SIGSEGV)  Access not within mapped region at address    at srec_scan (in    by srec_object_p (in    by bfd_check_format_matches (in    by main (in  If you believe this happened as a result of a stack  overflow in your program's main thread (unlikely but  possible), you can try to increase the size of the  main thread stack using the --main-stacksize= flag.  The main thread stack size used in this run was  HEAP SUMMARY:     in use at exit: bytes in 7 blocks   total heap usage: 41 allocs, 34 frees, bytes allocated  LEAK SUMMARY:    definitely lost: 0 bytes in 0 blocks    indirectly lost: 0 bytes in 0 blocks      possibly lost: 0 bytes in 0 blocks    still reachable: bytes in 7 blocks         suppressed: 0 bytes in 0 blocks Rerun with --leak-check=full to see details of leaked memory  For counts of detected and suppressed errors, rerun with: -v ERROR SUMMARY: errors from 4 contexts (suppressed: 0 from 0)   --  Hanno Bรถck http://hboeck.de/  mail/jabber: hanno@...eck.de GPG:  Download attachment "signature.asc" of type "application/pgp-signature" bytes)  Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      