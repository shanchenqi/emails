  oss-security - Xen Security Advisory 93 - Hardware features unintentionally  exposed to guests on ARM            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [thread-next>] [day] [month] [year] [list]  Date: Tue, 22 Apr From: Xen.org security team <security@....org> To: xen-announce@...ts.xen.org, xen-devel@...ts.xen.org,  xen-users@...ts.xen.org, oss-security@...ts.openwall.com CC: Xen.org security team <security@....org> Subject: Xen Security Advisory 93 - Hardware features unintentionally  exposed to guests on ARM  -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1                      Xen Security Advisory XSA-93        Hardware features unintentionally exposed to guests on ARM  ISSUE DESCRIPTION =================  When running on an ARM platform Xen was not correctly configuring the hardware virtualisation platform and therefore did not prevent guests from accessing various hardware features including cache control, coprocessors, debug registers and various processor specific registers.  IMPACT ======  By accessing these hardware facilities a malicious or buggy guest may be able to cause various issues, including crashing the host, crashing other guests (including control domains) and data corruption.  Privilege escalation is not thought to be possible but has not been ruled out.  VULNERABLE SYSTEMS ==================  Both 32- and 64-bit ARM systems are vulnerable from Xen 4.4 onwards.  x86 systems are not vulnerable.  MITIGATION ==========  None.  NOTE REGARDING LACK OF EMBARGO ==============================  This bug was publicly reported on xen-devel, before it was appreciated that there was a security problem.  The public mailing list thread contains information strongly suggestive of a security bug and included example code which can crash the host.  CREDITS =======  The initial bug was discovered by Thomas Leonard and further followup issues were discovered by Julien Grall.  RESOLUTION ==========  Applying the attached patches resolves this issue.         xen-unstable             Xen 4.4.x  $ xsa93*.patch             $  NOTE: These patches unconditionally deny access by all guests (including control domains) to various hardware features in order to close the vulnerability. Specifically guests are prevented from accessing:    * coprocessors 0..9, 12 and 13;   * coprocessor 14 (trace registers);   * coprocessor 15 encodings:       CRn==c9, CRm=={c0-c2, c5-c8},       CRn==c10, CRm=={c0, c1, c4, c8},       CRn==c11, CRm=={c0-c8, c15},     (IMPLEMENTATION DEFINED cache, TCM, branch predictor, memory      remapping, and TLB control registers);   * cp15 c15 (IMPLEMENTATION DEFINED);   * Debug and Performance monitor registers.  We have checked common Operating Systems which are known to run on Xen on ARM and not found any default uses of these registers. However it is expected that tools such as the Linux perf tool which make use of debug and performance registers will no longer function correctly in guest context. In addition if your use case requires access to specific coprocessors by one or more guest domains then additional local patches may be required to enable this.  Where feasible we hope to reenable these use cases in the future. If this affects you then please contact the xen-devel mailing list http://lists.xen.org/mailman/listinfo/xen-devel. -----BEGIN PGP SIGNATURE----- Version: GnuPG (GNU/Linux)  =qtaJ -----END PGP SIGNATURE-----  Download attachment of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Download attachment of type "application/octet-stream" bytes)  Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      