  oss-security - Re: Varnish - no CVE == bug regression            Products  Openwall GNU/*/Linux   server OS Linux Kernel Runtime Guard John the Ripper   password cracker  Free & Open Source for any platform in the cloud Pro for Linux Pro for macOS  Wordlists   for password cracking passwdqc   policy enforcement  Free & Open Source for Unix Pro for Windows (Active Directory)  yescrypt   KDF & password hashing yespower   Proof-of-Work (PoW) crypt_blowfish   password hashing phpass   ditto in PHP tcb   better password shadowing Pluggable Authentication Modules scanlogd   port scan detector popa3d   tiny POP3 daemon blists   web interface to mailing lists msulogin   single user mode login php_mt_seed   mt_rand() cracker  Services Publications  Articles Presentations  Resources  Mailing lists Community wiki Source code repositories (GitHub) Source code repositories (CVSweb) File archive & mirrors How to verify digital signatures OVE IDs  What's new         Follow @Openwall on Twitter for new release announcements and other news   [<prev] [next>] [<thread-prev] [thread-next>] [day] [month] [year] [list]  Date: Tue, 8 Jul (EDT) From: cve-assign@...re.org To: phk@....freebsd.dk Cc: cve-assign@...re.org, oss-security@...ts.openwall.com Subject: Re: Varnish - no CVE == bug regression  -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1  > https://www.varnish-cache.org/docs/trunk/reference/varnishd.html > auto_restart >   Units: bool >   Default: on > Restart child process automatically if it dies.   > https://www.varnish-cache.org/docs/trunk/reference/vcl.html > Backend definition > host (mandatory) >   The host to be used. IP address or a hostname that resolves to a >   single IP address.  Is it a supported configuration if auto_restart is off, and this hostname is specified using a DNS domain name?  It seems that, if an attacker is occasionally successful at DNS spoofing (or spoofing at another level) and can thus trigger even one use of a rogue backend server, there's a long-lived denial of service. This is a denial of service caused by a well-defined attack against an issue in the Varnish code (an issue with no CVE ID at present).  (It's not an interesting case if the attacker controls the domain name or is regularly successful in spoofing. The attacker could then trigger long-term use of nonexistent backend servers: from the end user's perspective, this isn't much different from a disruption of Varnish itself. And, presumably, it's even worse because the attacker could instead decide to provide wrong content instead of no content.)  > By definition Varnish must explicitly and implicitly trust the > backend HTTP server  With many realistic network designs, there isn't assurance that this trusted server is always the actual origin of network traffic that appears to be from this server, and has a malicious HTTP header. Thus, it seems that you are trusting data for which it's essentially impossible to know whether this data originated inside of your security boundary.  Still, this may be the security policy that you want to have. In other words, maybe what you are offering is sustained operation only in the case of a network infrastructure that's impervious to a spoofing attack that succeeds for an instant of time. If there shouldn't be CVE assignments, would it be possible to update your documentation so that "auto_restart off" is labeled as a known risk for long-lived DoS conditions?  - --  CVE assignment team, MITRE CVE Numbering Authority M/S Burlington Road, Bedford, MA USA [ PGP key available through http://cve.mitre.org/cve/request_id.html ] -----BEGIN PGP SIGNATURE----- Version: GnuPG (SunOS)  =6UYy -----END PGP SIGNATURE-----  Powered by blists - more mailing lists  Please check out the  Open Source Software Security Wiki, which is counterpart to this mailing list.  Confused about mailing lists and their use? Read about mailing lists on Wikipedia and check out these guidelines on proper formatting of your messages.      